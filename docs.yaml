info:
  description: "# How to Use Our REST APIs\n\n            System Surveyor's APIs enable\
    \ bi-directional communication with it's platform.             These APIs provide\
    \ a software layer connecting and optimizing the network to allow your users to\
    \             create / edit / retrieve sites & surveys, along with all of the\
    \ associated data.\n\n## Domain Name\n\n            The domain name for our API\
    \ is https://openapi.systemsurveyor.com.             This needs to be prefixed\
    \ to all requests.\n\n## Prerequisites\n\n            In order to utilize these\
    \ APIs, you must have an Enterprise account, with a valid             plan. Your\
    \ account administrator must create an `access_token` for you, which is required\
    \ for each request."
  title: System Surveyor API
  version: 2.0.0
security: jwt
paths:
  /survey/{survey_external_id}/floorplan:
    post:
      tags:
      - Resources
      - Surveys
      - v3
      security:
      - jwt: []
      operationId: get_survey_floorplan
      summary: Gets the corresponding floorplan image for a survey.
      description: User must have at least read access on the survey's site in order
        to access the floorplan.
      parameters:
      - name: survey_id
        description: Survey external ID
        in: path
        required: true
        example: 39dace0d-7aa3-47c7-9bff-9c87fbe2c00b
      responses:
        '200':
          description: Floorplan image binary file
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
      public: true
  /surveyelement/{survey_element_external_id}/photo:
    post:
      tags:
      - Resources
      - SurveyElements
      - v3
      security:
      - jwt: []
      operationId: update_survey_element_photo
      summary: Replaces a survey element's photo at a given path with a new photo.
      parameters:
      - name: survey_element_id
        description: Survey Element external ID
        in: path
        required: true
        example: 39dace0d-7aa3-47c7-9bff-9c87fbe2c00b
      requestBody:
        content:
          image/png:
            schema:
              type: string
              format: binary
              example: /tmp/path-to-photo.png
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  photo_path:
                    type: string
                    example: 2022/11/01/39dace0d-4oo5d-47c7-9bff-9c87fbe2c00b.pdf
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
      public: true
    get:
      tags:
      - Resources
      - Surveys
      - v3
      security:
      - jwt: []
      operationId: get_survey_element_photo
      summary: Retrieves a photo image that belongs to a survey element.
      description: User must have at least read access on the survey's site in order
        to access the survey element's photos.
      parameters:
      - name: survey_element_id
        description: Survey Element external ID
        in: path
        required: true
        example: 39dace0d-7aa3-47c7-9bff-9c87fbe2c00b
      - name: path
        description: Photo relative path
        in: path
        required: true
        example: 2022/11/01/39dace0d-4oo5d-47c7-9bff-9c87fbe2c00b.png
      responses:
        '200':
          description: Photo image binary file
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
    delete:
      tags:
      - Resources
      - Surveys
      - v3
      security:
      - jwt: []
      operationId: delete_survey_element_photo
      summary: Deletes a photo from a survey element's list of photos.
      parameters:
      - name: survey_element_id
        description: Survey Element external ID
        in: path
        required: true
        example: 39dace0d-7aa3-47c7-9bff-9c87fbe2c00b
      - name: path
        description: Photo relative path
        in: path
        required: true
        example: 2022/11/01/39dace0d-4oo5d-47c7-9bff-9c87fbe2c00b.png
      responses:
        '200':
          description: Photo image binary file
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
      public: true
  /v3/folder/{folder_id}:
    put:
      tags:
      - Folders
      - v3
      security:
      - jwt: []
      operationId: create_or_update_folder
      summary: Creates a new site/survey folder or updates an existing one if found.
      description: 'To create/update a site folder, pass a value for `team_id` field
        in the request payload, to create/update a survey folder

        pass a value for `site_id` field.

        '
      parameters:
      - name: folder_id
        description: Folder ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FolderSchema'
      responses:
        '200':
          description: Folder updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FolderSchema'
        '201':
          description: Folder created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FolderSchema'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
    delete:
      tags:
      - Folders
      - v3
      security:
      - jwt: []
      operationId: delete_folder
      summary: Soft deletes a site folder or a survey folder.
      description: 'Folder must be empty in order to be deleted.


        Only account admins, team admins, and team members can delete folders. Only
        team members with write access can delete survey

        folders.

        '
      parameters:
      - name: folder_id
        description: Folder ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      responses:
        '204':
          description: OK
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
      public: true
    get:
      tags:
      - Folders
      - v3
      security:
      - jwt: []
      operationId: get_folder_sites
      summary: Soft deletes a site folder or a survey folder.
      description: "Returns the sites within a folder that the current user has access\
        \ to.\n\nQuery Parameters:\n    - `filter[sites_modified_after]`: Return only\
        \ sites that have sites which have been created, modified, or given access\n\
        \                                    to after the specified timestamp.\n"
      parameters:
      - name: folder_id
        description: Folder ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      responses:
        '200':
          description: OK
        '401':
          $ref: '#/components/responses/UnauthorizedError'
  /v3/site_folder:
    post:
      tags:
      - Folders
      - v3
      security:
      - jwt: []
      operationId: create_site_folder
      summary: Creates a new folder that can hold sites
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: My Folder
                  description: Folder name. Does not need to be unique
                  required: true
                label:
                  type: string
                  example: S0124
                team_id:
                  type: integer
                  required: true
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FolderSchema'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
      public: true
  /v3/site_folder/{folder_external_id}:
    patch:
      tags:
      - Folders
      - v3
      security:
      - jwt: []
      operationId: update_folder
      summary: Update all fields of a folder
      parameters:
      - name: id
        description: Folder ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: My Folder
                  description: Folder name. Does not need to be unique
                  required: true
                label:
                  type: string
                  example: ER-1233
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FolderSchema'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
      public: true
  /v3/{site_id}/folder:
    post:
      tags:
      - Folders
      - v3
      security:
      - jwt: []
      operationId: create_survey_folder
      summary: Allows creating folders inside a site, which can store and organize
        surveys
      parameters:
      - name: site_id
        description: Site external ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: My Folder
                  description: Folder name. Does not need to be unique
                  required: true
                label:
                  type: string
                  example: LS1-34
                  description: Folder label
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FolderSchema'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
      public: true
  /v3/survey_folder/{folder_id}:
    delete:
      tags:
      - Folders
      - v3
      security:
      - jwt: []
      operationId: delete_survey_folder
      summary: Deletes a survey folder in a site.
      description: 'Folders that already contain surveys are not allowed to be deleted.


        Only team members with write access can delete survey folders.

        '
      parameters:
      - name: folder_id
        description: Folder ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      responses:
        '204':
          description: OK
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
  /v3/site_folder/{folder_id}:
    delete:
      tags:
      - Folders
      - v3
      security:
      - jwt: []
      operationId: delete_site_folder
      summary: Soft deletes a folder that can contain sites.
      description: 'Folder must be empty in order to be deleted. Only account admins,
        team admins, and team members can delete folders.

        '
      parameters:
      - name: folder_id
        description: Folder ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      responses:
        '204':
          description: OK
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
      public: true
  /v3/report:
    get:
      tags:
      - Reports
      - v3
      security:
      - jwt: []
      operationId: get_report_file
      summary: Retrieves a report result file after it has been generated.
      description: The user must have read access on the site the report was generated
        for
      parameters:
      - name: path
        in: query
        required: true
        schema:
          type: string
          example: /www/data/export/pdf/12398/2024/1/b5d05d5a-d665-4adc-b5b9-60d1c296c695.pdf
      responses:
        '200':
          description: OK
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '204':
          description: Report in progress
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '422':
          $ref: '#/components/responses/UnprocessableEntityError'
      public: true
    post:
      tags:
      - Reports
      - v3
      security:
      - jwt: []
      operationId: create_report
      summary: Allows scheduling Excel or JSON reports.
      description: 'Legacy Excel reports (reports that are processed by https://github.com/systemsurveyor/ssv-reporting)
        cannot be scheduled

        using this endpoint. They need to be scheduled using `POST /v2/report`.

        '
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                site_id:
                  type: string
                  description: External ID of the report's site
                  example: de6e23c1-68e8-47eb-a2ef-78b472ec090d
                  required: true
                survey_ids:
                  type: array
                  description: List of external IDs of surveys in the report
                  required: true
                  example:
                  - de6e23c1-68e8-47eb-a2ef-78b472ec090d
                  - f89b13b6-52cc-49de-90a2-cccda01bb0aa
                  items:
                    type: string
                output:
                  type: string
                  description: Output format for the report
                  example: xls
                  enum:
                  - xls
                  - json
                  required: true
                scope:
                  type: string
                  description: Whether the report is a site report or survey report
                  enum:
                  - site
                  - survey
                  required: true
                report_name:
                  type: string
                  required: true
                  description: Name given to the new report
                  example: My Bill of Materials report
                report_definition_id:
                  type: string
                  description: External ID of the report definition the new report
                    belongs to
                  required: true
                  example: f89b13b6-52cc-49de-90a2-cccda01bb0aa
      responses:
        '202':
          description: Report scheduled successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  report_id:
                    type: integer
                    description: Unique ID of the scheduled report
                    example: 2545
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '422':
          $ref: '#/components/responses/UnprocessableEntityError'
      public: true
  /v3/reports:
    get:
      tags:
      - Reports
      - v3
      security:
      - jwt: []
      operationId: get_current_user_reports
      summary: Returns all reports that have been created by the current user.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportSchema'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
      public: true
  /v3/site/{site_id}:
    get:
      tags:
      - Sites
      - v3
      security:
      - jwt: []
      operationId: get_site
      summary: Get site information
      parameters:
      - name: site_id
        in: path
        required: true
        schema:
          type: string
          example: 074bb7b5-86d2-4ea6-9851-7f8a4397844f
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: ID for the site
                    example: 46787da3-1e6e-4d9b-a858-ac9e12dc3efb
                  team_id:
                    type: integer
                    description: ID of the team associated with the site.
                    example: 1992
                  name:
                    type: string
                    description: Name of the Site
                    example: John's site
                  label:
                    type: string
                    description: Label attached to the site
                    example: BATS
                  survey_count:
                    type: integer
                  city:
                    type: string
                    description: City that the site is in
                    example: Los Angeles
                  state:
                    type: string
                    description: State that the Site is in
                    example: California
                  street:
                    type: string
                    description: Street address of the site
                    example: 1300 S SAN PEDRO ST
                  zip_code:
                    type: string
                    description: Zip code of where the website is
                    example: 38129
                  is_active:
                    type: boolean
                  version:
                    type: integer
                    example: 1674845520
                  reference_id:
                    type: string
                  tags:
                    type: array
                    items:
                      type: string
                  creator:
                    type: object
                    description: Information about the creator of the Site.
                    properties:
                      user_id:
                        type: integer
                        description: ID of the user who created the site.
                        example: 9313
                      first_name:
                        type: string
                        description: First name of the user who created the site.
                        example: John
                      last_name:
                        type: string
                        description: Last name of the user who created the site.
                        example: Smith
                  modifier:
                    type: object
                    description: Information about the latest user to modify the Site.
                    properties:
                      user_id:
                        type: integer
                        description: ID of the user who last modified the site.
                        example: 9313
                      first_name:
                        type: string
                        description: First name of the user who last modified the
                          site.
                        example: John
                      last_name:
                        type: string
                        description: Last name of the user who last modified the site.
                        example: Smith
                  created_at:
                    type: integer
                    description: Unix timestamp of when the site was created.
                    example: 1452384000
                  modified_at:
                    type: integer
                    description: Unix time stamp for when the site was last modified.
                    example: 1673557029
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
      public: true
    put:
      tags:
      - Sites
      - v3
      security:
      - jwt: []
      operationId: create_or_update_site
      summary: Creates a new site with a specific `site_id` or updates the site if
        it already exists
      description: 'To create a site, pass a new UUID for the `site_id`.

        To update a site, pass the existing UUID for the `site_id`.

        You may pass a `folder_external_id` field in the payload to create the site
        inside that folder.

        '
      parameters:
      - name: site_id
        description: Site ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SiteSchema'
      responses:
        '200':
          description: Successful update
        '201':
          description: Successful create
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
    patch:
      tags:
      - Sites
      - v3
      security:
      - jwt: []
      operationId: patch_site
      summary: Update specific fields of a site
      parameters:
      - name: site_id
        description: Site ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SiteSchema'
      responses:
        '200':
          description: Successful update
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
    delete:
      tags:
      - Sites
      - v3
      security:
      - jwt: []
      operationId: delete_site
      summary: Hard deletes a site and all related objects.
      parameters:
      - name: site_id
        description: Site ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      responses:
        '204':
          description: OK
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
  /v3/sites:
    get:
      tags:
      - Sites
      - v3
      security:
      - jwt: []
      operationId: get_user_sites_and_site_folders
      summary: Returns all archived/unarchived sites and folders across all teams
        of a user.
      description: "Explanation of usage of filters:\n\nFiltered by favorites:\n \
        \ - All sites that are in workbench but not in a folder\n  - All folders that\
        \ have a site under them that is in the workbench\n  - Don't return sites\
        \ that are in workbench but also in a folder\n\nFiltered by folder and favorites:\n\
        \  - All sites in the folder that are in the workbench\n\nFiltered by folder:\n\
        \  - All sites in folder\n"
      parameters:
      - $ref: '#/components/parameters/q'
      - $ref: '#/components/parameters/page[number]'
      - $ref: '#/components/parameters/page[size]'
      - name: filter[modified_after]
        description: Return only sites that have been created, modified, or favorited
          (added to workbench) after an specific datetime (in UTC Epoch format).
        in: query
        schema:
          type: integer
          example: 1645157198
      - name: filter[deleted_after]
        description: (DEPRECATED) Return only sites that were deleted after an specified
          timestamp. Limited site data is returned using this filter.
        in: query
        schema:
          type: integer
          example: 56489413165
      - name: filter[favorites_only]
        description: Filters results to only include sites the user has added to their
          workbench
        in: query
        schema:
          type: integer
          example: 1
      - name: filter[folder_id]
        description: Returns only sites that belong to a specific folder
        in: query
        schema:
          type: string
          example: 963dcf8a-9c99-4da0-adeb-12b86d99b122
      - name: filter[accessible_after]
        description: Returns only sites and folders where the user has been granted
          access to after a specified time
        in: query
        schema:
          type: integer
          example: 56489413165
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  sites:
                    type: array
                    description: Result list of sites or folders
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 46787da3-1e6e-4d9b-a858-ac9e12dc3efb
                        name:
                          type: string
                          example: Union Square
                        site_count:
                          type: integer
                          example: 5
                          description: For folders, returns the number of sites within
                            the folder accessible by the user
                        survey_count:
                          type: integer
                          example: 12
                        type:
                          type: string
                          example: site
                          description: If the result item is a site or a folder
                          enum:
                          - site
                          - folder
                        version:
                          type: integer
                          example: 45479945
                        favorite_timestamp:
                          type: integer
                          example: 12034903409
                          description: Unix Timestamp of when the site was added to
                            favorites
                        has_favorite_sites:
                          type: boolean
                          example: true
                          description: Indicates if a folder has sites that are in
                            the user's workbench
                        permissions:
                          type: object
                          properties:
                            is_site_guest:
                              type: boolean
                              example: true
                              enum:
                              - true
                              - false
                            user_can_edit_site:
                              type: boolean
                              example: true
                              enum:
                              - true
                              - false
                            user_can_change_site_access:
                              type: boolean
                              example: true
                              enum:
                              - true
                              - false
                            user_can_invite_guests:
                              type: boolean
                              example: true
                              enum:
                              - true
                              - false
                            user_can_delete_surveys:
                              type: boolean
                              example: true
                              enum:
                              - true
                              - false
                            user_can_create_surveys:
                              type: boolean
                              example: true
                              enum:
                              - true
                              - false
                            user_can_modify_surveys:
                              type: boolean
                              example: true
                              enum:
                              - true
                              - false
                            user_can_revoke_survey_edit:
                              type: boolean
                              example: true
                              enum:
                              - true
                              - false
                            user_can_edit_contacts:
                              type: boolean
                              example: true
                              enum:
                              - true
                              - false
                            user_can_view_site_access:
                              type: boolean
                              example: true
                              enum:
                              - true
                              - false
                        owner:
                          type: object
                          properties:
                            user_id:
                              type: integer
                              example: 12390
                            first_name:
                              type: string
                              example: John
                            last_name:
                              type: string
                              example: Doe
                        modified_at:
                          type: integer
                          description: 'Unix Timestamp of the most recently modified
                            survey in the site. If the site has no surveys, falls
                            back to the

                            site''s own `modified_at` datetime.

                            '
                          example: 1644374426
                        modifier:
                          type: string
                          description: User who modified the site or folder
                        team:
                          type: object
                          properties:
                            team_id:
                              type: integer
                              example: 1049
                            name:
                              type: string
                              name: John Doe's team
        '401':
          $ref: '#/components/responses/UnauthorizedError'
      public: true
    delete:
      tags:
      - Sites
      - v3
      security:
      - jwt: []
      operationId: delete_sites
      summary: Allows for batch deleting of sites (and all related data).
      description: 'Users must be team members and have write access on all sites
        to be deleted, otherwise the entire operation will fail.

        Guest users are not allowed to batch delete sites.

        '
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                description: Site external ID
                example: b14663f6-9ad1-40c0-8a1a-32f2e19b1ccb
                required: true
      responses:
        '204':
          description: OK
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
  /v3/site_favorites:
    post:
      tags:
      - Sites
      - v3
      security:
      - jwt: []
      operationId: add_sites_to_favorites
      summary: Adds a list of sites to the user's workbench.
      description: Sites that are already in the workbench will be ignored.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                description: Site external ID
                example: b14663f6-9ad1-40c0-8a1a-32f2e19b1ccb
                required: true
      responses:
        '200':
          description: OK
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
    delete:
      tags:
      - Sites
      - v3
      security:
      - jwt: []
      operationId: remove_sites_from_favorites
      summary: Removes sites from the current user's workbench.
      description: 'Sites that are not in the users workbench and are requested for
        removal will be ignored.

        '
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                description: Site ID
                example: b14663f6-9ad1-40c0-8a1a-32f2e19b1ccb
                required: true
      responses:
        '200':
          description: OK
        '401':
          $ref: '#/components/responses/UnauthorizedError'
      public: true
  /v3/favorite_sites:
    get:
      tags:
      - Sites
      - v3
      security:
      - jwt: []
      operationId: get_user_favorite_sites
      summary: Returns all of the current user's favorite sites across all teams.
      description: "Results are ordered by most recently favorited.\n\nQuery Parameters:\n\
        \n  - filter[modified_after]: Return only sites that have been added or removed\
        \ from favorites after the specified timestamp.\n"
      parameters:
      - $ref: '#/components/parameters/page[number]'
      - $ref: '#/components/parameters/page[size]'
      - name: filter[modified_after]
        description: Return only sites that have been added or removed from favorites
          after the specified timestamp.
        in: query
        schema:
          type: integer
          example: 1645157198
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  favorite_sites:
                    type: array
                    description: List of user's favorited sites
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 46787da3-1e6e-4d9b-a858-ac9e12dc3efb
                        name:
                          type: string
                          example: Union Square
                        favorited_at:
                          type: number
                          example: 1645157198
                          description: Unix Timestamp indicating when the site was
                            added to favorites.
                  unfavorited_sites:
                    type: array
                    description: Result list of sites unfavorited after the specified
                      timestamp
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 46787da3-1e6e-4d9b-a858-ac9e12dc3efb
                        name:
                          type: string
                          example: Union Square
                        unfavorited_at:
                          type: number
                          example: 1645157198
                          description: Unix Timestamp indicating when the site was
                            removed from favorites.
        '401':
          $ref: '#/components/responses/UnauthorizedError'
      public: true
  /v3/site/{site_id}/surveys:
    get:
      tags:
      - Surveys
      - v3
      security:
      - jwt: []
      operationId: get_site_surveys_and_folders
      summary: Returns all surveys and folders for a specific site. These are shown
        in the site overview page.
      description: 'Surveys that belong to folders will not be included in the response,
        unless

        a search is being made.


        Results are ordered by `title` ascending by default if no sorting is specified.


        Query Parameters:


        - q: Search surveys and folders.


        - filter[status]: Return only surveys in a specific status (`archived` or
        `open`). Folders will also be returned in the response.

        - filter[external_folder_id]: Filter surveys by folder using string of external_id
        (UUID). Only surveys will be returned.

        - filter[modified_after]: Return surveys and folders that have been created
        or modified after a timestamp (in UTC Epoch format).

        - filter[deleted_after]: Return surveys and folders that have been deleted
        after the specified timestamp.


        - page[number]: Page to retrieve from the entire result set.

        - page[size]: Max amount of objects to return per page in the response. Defaults
        to 100.


        - sort: Sort by fields (comma separated). Use `-` prefix on field name to
        sort descending.

        '
      parameters:
      - name: site_id
        description: Site ID
        in: path
        required: true
        schema:
          type: string
          example: 86af1f1d-4f19-4c6c-afd6-e5ee041666ce
      - name: filter[status]
        description: Return only surveys in a specific status (`archived` or `open`).
        in: query
        schema:
          type: string
          enum:
          - archived
          - open
      - name: filter[external_folder_id]
        description: Filter surveys by folder using string of external_id (UUID)
        in: query
        schema:
          type: string
          example: b14663f6-9ad1-40c0-8a1a-32f2e19b1ccb
      - name: filter[modified_after]
        description: Return only surveys and folders that have been created or modified
          after a timestamp (in UTC Epoch format).
        in: query
        schema:
          type: number
          example: 1658776598
      - name: filter[deleted_after]
        description: Return surveys and folders that have been deleted after the specified
          timestamp.
        in: query
        schema:
          type: number
          example: 1658776598
      - name: sort
        description: Sort by column names (comma separated). Use `-` prefix on column
          name to sort descending
        in: query
        schema:
          type: string
          example: sort=-is_folder,name,editor_first_name
          enum:
          - id
          - title
          - document_image_url
          - preview_image
          - editor_id
          - editor_first_name
          - editor_last_name
          - label
          - element_count
          - is_folder
          - is_archived
          - created_at
          - modified_at
          - status
          - survey_count
      - $ref: '#/components/parameters/q'
      - $ref: '#/components/parameters/page[number]'
      - $ref: '#/components/parameters/page[size]'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  surveys:
                    type: array
                    items:
                      type: object
                      description: The first object contains information about any
                        folders. Check is_folder value to confirm
                      properties:
                        id:
                          type: string
                          description: Survey or folder id
                          example: b14663f6-9ad1-40c0-8a1a-32f2e19b1ccb
                        title:
                          type: string
                          description: Title given to the folder at the time of creation.
                          example: New Folder Name
                        label:
                          type: string
                          description: Label attached to this folder
                          example: TGS-123
                        is_folder:
                          type: boolean
                          description: Is this object a folder or a survey
                          example: true
                        preview_image:
                          type: string
                          description: URL to the folder's preview image
                          example: https://app.systemsurveyor.com/media/2023/01/28/d9a8cf3a-728e-4eae-b290-1f2d1bc35a0e.png
                        element_count:
                          type: integer
                          description: Count of elements in this folder
                          example: 90
                        survey_count:
                          type: integer
                          description: Count for the survey
                          example: 2
                        is_archived:
                          type: boolean
                          description: If the folder is archived or not
                          example: false
                        modified_at:
                          type: integer
                          description: Unix timestamp of when the survey was last
                            modified
                          example: 1674952923
                        created_at:
                          type: integer
                          description: Unix timestamp of when this folder was created.
                          example: 1674952923
                        editor:
                          type: object
                          properties:
                            user_id:
                              type: integer
                              description: ID of the user who last edited this object.
                              example: 9313
                            first_name:
                              type: string
                              description: First Name of the person who edited this
                                folder
                              example: John
                            last_name:
                              type: string
                              description: Last Name of the person who last edited
                                this folder
                              example: Doe
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
  /v3/site/{site_id}/survey/{survey_id}:
    put:
      tags:
      - Surveys
      - v3
      security:
      - jwt: []
      operationId: create_or_update_survey
      summary: Allows syncing surveys
      description: 'Syncing works by creating a new survey with a unique identifier
        generated by the client, or updating the existing survey

        with that identifier if it exists. This includes creating/updating surveys
        with all related elements, comments, annotations,

        etc.


        Newly created surveys can be directly placed inside folders by passing a `folder_id`
        value in the request payload.


        After a successful sync, a new revision for the survey will be generated as
        a JSON file and then uploaded and stored in S3.

        '
      parameters:
      - name: site_id
        description: Site external ID
        in: path
        required: true
        schema:
          type: string
          example: 86af1f1d-4f19-4c6c-afd6-e5ee041666ce
      - name: survey_id
        description: Survey external ID
        in: path
        required: true
        schema:
          type: string
          example: 86af1f1d-4f19-4c6c-afd6-e5ee041666ce
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SurveySchema'
      responses:
        '200':
          description: Survey updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SurveySchema'
        '201':
          description: Survey created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SurveySchema'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
  /v3/survey/{survey_id}:
    delete:
      tags:
      - Surveys
      - v3
      security:
      - jwt: []
      operationId: delete_survey
      summary: Deletes a survey and all its related objects
      description: 'Also expires any shares of the survey.

        '
      parameters:
      - name: survey_id
        description: Survey ID
        in: path
        required: true
        schema:
          type: string
          example: 86af1f1d-4f19-4c6c-afd6-e5ee041666ce
      responses:
        '204':
          description: OK
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
      public: true
  /v3/survey/{survey_id}/comment:
    post:
      tags:
      - Comments
      - v3
      security:
      - jwt: []
      operationId: add_survey_comment
      summary: Adds a new comment to a survey.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                corpus:
                  type: string
                  required: true
                  example: Lorem ipsum
                parent_id:
                  type: number
                  required: true
                  example: 2334
      responses:
        '201':
          description: OK
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
  /v3/survey/{survey_id}/comments:
    get:
      tags:
      - Comments
      - v3
      security:
      - jwt: []
      operationId: get_survey_comments
      summary: Get all comments from a survey
      parameters:
      - name: survey_id
        description: Survey ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      responses:
        '201':
          description: OK
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
  /v3/survey/{survey_id}/comment/{comment_id}:
    delete:
      tags:
      - Comments
      - v3
      security:
      - jwt: []
      operationId: delete_survey_comment
      summary: Deletes a comment in a survey.
      description: 'Users are only allowed to delete their own comments.

        '
      parameters:
      - name: survey_id
        description: Survey external ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      - name: comment_id
        description: Comment ID
        in: path
        required: true
        schema:
          type: number
          example: 149595
      responses:
        '204':
          description: OK
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
      public: true
    patch:
      tags:
      - Comments
      - v3
      security:
      - jwt: []
      operationId: edit_survey_comment
      summary: Allows editing a comment in a survey.
      description: 'Editing/deleting and closing/re-opening comments will only be
        allowed for comment creators.


        Team/Account admins can close and reopen all comments on the survey.

        '
      parameters:
      - name: survey_id
        description: Survey external ID
        in: path
        required: true
        schema:
          type: string
          example: 40759717-c239-4504-a0a5-7e7f57220995
      - name: comment_id
        description: Comment ID
        in: path
        required: true
        schema:
          type: number
          example: 149595
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                corpus:
                  type: string
                  required: false
                  example: Lorem ipsum
                is_open:
                  type: boolean
                  required: false
                  example: true
      responses:
        '200':
          description: OK
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
      public: true
  /v3/team/{team_id}/system_types:
    get:
      tags:
      - SystemTypes
      - v3
      security:
      - jwt: []
      operationId: get_team_selected_system_types
      summary: Returns a team's selected system types.
      parameters:
      - name: team_id
        in: path
        required: true
        schema:
          type: number
          example: 2948
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemTypeSchema'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
  /v3/teams:
    get:
      tags:
      - Teams
      - v3
      security:
      - jwt: []
      operationId: get_user_teams
      summary: Returns all the teams the current user is a member of
      description: 'Returns the information related to a user. This endpoint returns
        which teams a user is a part of, plan

        subscriptions, features access for the user as well as who owns the Team as
        the lead.

        '
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          $ref: '#/components/schemas/string'
                      id:
                        type: string
                      attributes:
                        type: object
                        properties:
                          id:
                            type: string
                            description: Id of the team
                            example: 12345
                          name:
                            type: string
                            example: John's team
                            description: A name you give for the team.
                          unit:
                            type: string
                            example: metric
                            enum:
                            - metric
                            - imperaial_standard
                          logo_url:
                            type: string
                            description: URL of the team logo
                            example: https://app.systemsurveyor.com/media/common/team-logo.png
                          labor_rate:
                            type: float
                            description: The labor rate is the hourly rate charged
                              by the installation contractor
                            example: 10.0
                          margin_range:
                            type: float
                            example: 20.0
                          budget_status:
                            type: integer
                            enum:
                            - 0
                            - 1
                            description: 'Value is either 0 or 1. If 0, then budget
                              estimator calculations are disbaled, but if set to 1
                              then estimator is enabled.

                              Recommended value is setting it to 0

                              '
                          owner:
                            type: object
                            properties:
                              last_name:
                                type: string
                                description: Last Name of the team owner
                                example: Smith
                              user_id:
                                type: integer
                                description: User ID of the team owner
                                example: 1223
                              first_name:
                                type: string
                                description: First Name of the team owner.
                                example: John
                          account:
                            type: object
                            properties: null
                            id:
                              type: integer
                              example: 450495
                            company:
                              type: string
                              example: System Surveyor
                            is_trial:
                              type: boolean
                            is_free:
                              type: boolean
                            cancel_requested:
                              type: boolean
                            trial_expiration:
                              type: string
                              description: date mm-dd-yyyy of when the trial will
                                expire.
                            subscription:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  example: 123
                                quantity:
                                  type: integer
                                  example: 10
                                plan:
                                  type: object
                                  properties:
                                    id:
                                      type: integer
                                    name:
                                      type: string
                                      example: Enterprise
                                    max_seats:
                                      type: integer
                                    max_attachments_per_element:
                                      type: integer
                            features:
                              type: object
                              properties:
                                comments:
                                  type: boolean
                                site_tagging:
                                  type: boolean
                                report_custom_watermark:
                                  type: boolean
                                exclude_powered_by:
                                  type: boolean
                                sso:
                                  type: boolean
                                hidden_attributes:
                                  type: boolean
                                site_access_permissions:
                                  type: boolean
                                multiple_teams:
                                  type: boolean
                                report_include_ssv_logo:
                                  type: boolean
                                report_include_company_logo:
                                  type: boolean
                                guest_user:
                                  type: boolean
                                add_folder:
                                  type: boolean
                                export_survey:
                                  type: boolean
                                report_export_excel:
                                  type: boolean
                                report_require_ssv_watermark:
                                  type: boolean
                                v2_survey:
                                  type: boolean
                                public_api:
                                  type: boolean
        '401':
          $ref: '#/components/responses/UnauthorizedError'
      public: true
  /v3/team/{team_id}/membership:
    get:
      tags:
      - Teams
      - v3
      security:
      - jwt: []
      operationId: get_team_members
      summary: Returns information about all members of a team.d
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  first_name:
                    type: string
                    example: John
                  last_name:
                    type: string
                    example: Doe
                  company:
                    type: string
                    example: System Surveyor
                  email:
                    type: string
                    example: jdoe@gmail.com
                  avatar_url:
                    type: string
                  user_id:
                    type: number
                    example: 140956
                  role:
                    type: string
                    example: admin
                  is_enable:
                    type: boolean
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
  /v3/user:
    get:
      tags:
      - Users
      - v3
      security:
      - jwt: []
      operationId: get_current_user_data
      summary: Get data for the current authenticated user at a granular level.
      description: 'The returned information includes information about the user that
        they provided at sign up as well as informationa about the teams they are
        a part of, company they are with and subscription they have with System Surveyor.

        '
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    example: 12094
                  user_name:
                    type: string
                    example: john_smith
                  first_name:
                    type: string
                    example: John
                  last_name:
                    type: string
                    example: Doe
                  title:
                    type: string
                    example: CEO
                  email:
                    type: string
                    example: foobar@gmail.com
                  company:
                    type: string
                    example: System Surveyor
                  mobile:
                    type: string
                    example: 910-423-345
                  country:
                    type: string
                    example: United States of America (USA)
                  state:
                    type: string
                    example: Pennsylvania
                  city:
                    type: string
                    example: Los Angeles
                  avatar_url:
                    type: string
                    example: https://app.systemsurveyor.com/media/common/avatar.png
                  created_at:
                    type: integer
                    example: 1594652482
                    description: Unix timestamp when this user was created.
                  teams:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 11
                        name:
                          type: string
                          example: John's Team
                          description: Name of the team
                        account_id:
                          type: integer
                          example: 995
                        role:
                          type: string
                          example: team_member
                        unit:
                          type: string
                          example: metric
                          enum:
                          - metric
                          - imperial
                        labor_rate:
                          type: float
                          example: 15.0
                          description: The labor rate is the hourly rate charged by
                            the installation contractor
                        budget_status:
                          type: integer
                          enum:
                          - 0
                          - 1
                          description: 'Value is either 0 or 1. If 0, then budget
                            estimator calculations are disbaled, but if set to 1 then
                            estimator is enabled.

                            Recommended value is setting it to 0

                            '
                        margin_range:
                          type: float
                          example: 20.0
                        logo_url:
                          type: string
                          example: https://app.systemsurveyor.com/media/common/team-logo.png
                  accounts:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 450495
                        company:
                          type: string
                          example: System Surveyor
                        is_trial:
                          type: boolean
                        is_free:
                          type: boolean
                        cancel_requested:
                          type: boolean
                        trial_expiration:
                          type: string
                          description: date mm-dd-yyyy of when the trial will expire.
                        subscription:
                          type: object
                          properties:
                            id:
                              type: integer
                              example: 123
                            quantity:
                              type: integer
                              example: 10
                            plan:
                              type: object
                              properties:
                                id:
                                  type: integer
                                name:
                                  type: string
                                  example: Enterprise
                                max_seats:
                                  type: integer
                                max_elements_per_survey:
                                  type: integer
                                max_attachments_per_element:
                                  type: integer
                        features:
                          type: object
                          properties:
                            comments:
                              type: boolean
                            site_tagging:
                              type: boolean
                            report_custom_watermark:
                              type: boolean
                            exclude_powered_by:
                              type: boolean
                            sso:
                              type: boolean
                            hidden_attributes:
                              type: boolean
                            site_access_permissions:
                              type: boolean
                            multiple_teams:
                              type: boolean
                            report_include_ssv_logo:
                              type: boolean
                            report_include_company_logo:
                              type: boolean
                            guest_user:
                              type: boolean
                            add_folder:
                              type: boolean
                            export_survey:
                              type: boolean
                            report_export_excel:
                              type: boolean
                            report_require_ssv_watermark:
                              type: boolean
                            v2_survey:
                              type: boolean
                            public_api:
                              type: boolean
        '401':
          $ref: '#/components/responses/UnauthorizedError'
      public: true
    patch:
      tags:
      - Users
      - v3
      security:
      - jwt: []
      operationId: update_user
      summary: Update user information associated with the linked account
      description: 'You can change the values for a user by supplying the new values
        for first_name, last_name,

        user_name, company, mobile, title, country, state, city

        '
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                first_name:
                  type: string
                last_name:
                  type: string
                user_name:
                  type: string
                company:
                  type: string
                mobile:
                  type: string
                title:
                  type: string
                country:
                  type: string
                state:
                  type: string
                city:
                  type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    description: ID for the user.
                    example: 12094
                  user_name:
                    type: string
                    description: User Name given to this user at the time of creation
                      of the account.
                    example: foobar
                  first_name:
                    type: string
                    description: First Name of the User
                    example: John
                  last_name:
                    type: string
                    description: Last Name of the User.
                    example: Doe
                  title:
                    type: string
                    description: Title that the user holds in the company.
                    example: CEO
                  email:
                    type: string
                    description: Email for the user.
                    example: foobar@gmail.com
                  company:
                    type: string
                    description: Name of the company that this user is associated
                    example: System Surveyor
                  mobile:
                    type: string
                    description: Mobile number of the User
                    example: 910-423-345
                  country:
                    type: string
                    description: Name of the Country where this user is based
                    example: Netherlands
                  state:
                    type: string
                    description: State that the user is based in.
                    example: Pennsylvania
                  city:
                    type: string
                    description: City that the user is based in.
                    example: Philadelphia
                  avatar_url:
                    type: string
                    example: https://app.systemsurveyor.com/media/common/avatar.png
                    description: URL link to a publicly accessible image.
                  created_at:
                    type: integer
                    example: 1594652482
                    description: Unix timestamp of when the user was created.
                  teams:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID of the team that is associated with this
                            user.
                          example: 112
                        name:
                          type: string
                          description: Team Name that this user is associated with
                          example: John's Team
                        account_id:
                          type: integer
                          description: Account id of the user.
                          example: 995
                        role:
                          type: string
                          description: Role for the User in the team he is in.
                          example: team_member
                        unit:
                          type: string
                          example: metric
                          enum:
                          - metric
                          - imperial
                        labor_rate:
                          type: float
                          example: 10.0
                          description: the hourly rate charged by the installation
                            contractor
                        budget_status:
                          type: integer
                          description: 'Value is either 0 or 1. If 0, then budget
                            estimator calculations are disbaled, but if set to 1 then
                            estimator is enabled.

                            Recommended value is setting it to 0

                            '
                          example: 0
                          enum:
                          - 0
                          - 1
                        margin_range:
                          type: float
                          example: 20.0
                        logo_url:
                          type: string
                          example: https://app.systemsurveyor.com/media/common/team-logo.png
                          description: URL link to a publicly accessible image
                  accounts:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 450495
                        company:
                          type: string
                          example: System Surveyor
                        is_trial:
                          type: boolean
                        is_free:
                          type: boolean
                        cancel_requested:
                          type: boolean
                        trial_expiration:
                          type: string
                          description: date mm-dd-yyyy of when the trial will expire.
                        subscription:
                          type: object
                          properties:
                            id:
                              type: integer
                              example: 123
                            quantity:
                              type: integer
                              example: 10
                            plan:
                              type: object
                              properties:
                                id:
                                  type: integer
                                name:
                                  type: string
                                  example: Enterprise
                                max_seats:
                                  type: integer
                                max_elements_per_survey:
                                  type: integer
                                max_attachments_per_element:
                                  type: integer
                        features:
                          type: object
                          properties:
                            comments:
                              type: boolean
                            site_tagging:
                              type: boolean
                            report_custom_watermark:
                              type: boolean
                            exclude_powered_by:
                              type: boolean
                            sso:
                              type: boolean
                            hidden_attributes:
                              type: boolean
                            site_access_permissions:
                              type: boolean
                            multiple_teams:
                              type: boolean
                            report_include_ssv_logo:
                              type: boolean
                            report_include_company_logo:
                              type: boolean
                            guest_user:
                              type: boolean
                            add_folder:
                              type: boolean
                            export_survey:
                              type: boolean
                            report_export_excel:
                              type: boolean
                            report_require_ssv_watermark:
                              type: boolean
                            v2_survey:
                              type: boolean
                            public_api:
                              type: boolean
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
      public: true
openapi: 3.1.0
components:
  schemas:
    ElementSchema:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        abbreviation:
          type: string
        icon:
          readOnly: true
        name:
          type: string
    UserResponse:
      type: object
      properties:
        first_name:
          type: string
        user_id:
          type: integer
        last_name:
          type: string
      required:
      - user_id
    SiteSchema:
      type: object
      properties:
        team_id:
          type: integer
        creator:
          readOnly: true
          allOf:
          - $ref: '#/components/schemas/UserResponse'
        legacy_site_id:
          type: integer
          readOnly: true
        tags:
          type: array
          items:
            type: string
        created_at:
          readOnly: true
          type:
          - 'null'
        reference_id:
          type: string
          maxLength: 255
        zip_code:
          type: string
          maxLength: 250
        state:
          type: string
          maxLength: 250
        label:
          type: string
          maxLength: 255
        modifier:
          readOnly: true
          allOf:
          - $ref: '#/components/schemas/UserResponse'
        is_archived: {}
        site_id:
          type: string
        version:
          type: integer
          readOnly: true
        modified_at:
          readOnly: true
          type:
          - 'null'
        city:
          type: string
          maxLength: 250
        street:
          type: string
          maxLength: 250
        name:
          type: string
          pattern: "^[0-9A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\xFF .,?!\"';:/\\()_#*&-]{1,250}$"
      required:
      - name
      - team_id
    ShareSiteOrSurveyRequestSchema:
      type: object
      properties:
        message:
          type: string
        expiration_date: {}
        emails:
          type: array
          items:
            type: string
            format: email
      required:
      - emails
      - expiration_date
    SurveyFields:
      type: object
      properties:
        value:
          type: string
        field_id:
          type: string
      required:
      - field_id
      - value
    SurveyOptions:
      type: object
      properties:
        template_name:
          type: string
        inputs:
          type: array
          items:
            $ref: '#/components/schemas/SurveyFields'
        scope:
          type: string
          enum:
          - template
          - model
          - content
        value:
          type: boolean
        id:
          type: string
      required:
      - id
      - scope
      - value
    SurveyReportRequestSchemaDeprecated:
      type: object
      properties:
        is_excel:
          type: boolean
          default: false
        report_id:
          type: string
          format: uuid
        ids:
          type: array
          items:
            type: string
        custom_data:
          type: object
        output:
          type: string
          enum:
          - pdf
          - html
          - xls
        filters:
          type: array
          items:
            type: object
        is_site_report:
          type: boolean
          default: false
        options:
          type: array
          items:
            $ref: '#/components/schemas/SurveyOptions'
        paper_size:
          type: string
        site_id:
          type: string
        name:
          type: string
      required:
      - name
      - output
      - report_id
      - site_id
    Attribute:
      type: object
      properties:
        attribute_id:
          type: integer
        value:
          type: string
      required:
      - attribute_id
      - value
    SubElement:
      type: object
      properties:
        systemtype_id:
          type: string
        element_id:
          type: string
      required:
      - element_id
      - systemtype_id
    Link:
      type: object
      properties:
        link_type:
          type: integer
        url:
          type: string
          format: url
        name:
          type: string
      required:
      - link_type
      - name
      - url
    EPContent:
      type: object
      properties:
        attribute:
          type: array
          default: []
          items:
            $ref: '#/components/schemas/Attribute'
        child:
          type: array
          default: []
          items:
            $ref: '#/components/schemas/SubElement'
        pdf_url:
          type: array
          default: []
          maxItems: 2
          items:
            $ref: '#/components/schemas/Link'
    EPAccessory:
      type: object
      properties:
        description:
          type: string
        created_at:
          readOnly: true
        manufacturer:
          type: string
          default: ''
        id:
          type: integer
          readOnly: true
        price:
          type:
          - number
          - 'null'
          default: !!python/object/apply:decimal.Decimal
          - 0E-10
        model:
          type: string
          default: ''
        labor_hours:
          type:
          - number
          - 'null'
          default: !!python/object/apply:decimal.Decimal
          - 0E-10
      required:
      - description
    ElementProfileSchema:
      type: object
      properties:
        content:
          $ref: '#/components/schemas/EPContent'
        team_id:
          type: integer
        element_id:
          type: integer
        created_at:
          readOnly: true
        is_default:
          type: boolean
        sort:
          type: integer
        accessories:
          type: array
          items:
            $ref: '#/components/schemas/EPAccessory'
        created_by:
          type: integer
          readOnly: true
        modified_at:
          readOnly: true
        id:
          type: integer
          readOnly: true
        name:
          type: string
      required:
      - content
      - element_id
      - name
      - team_id
    RelatedUser:
      type: object
      properties:
        first_name:
          type: string
        last_name:
          type: string
        user_id: {}
    Team:
      type: object
      properties:
        id:
          type: string
          readOnly: true
        name:
          type: string
    FolderSchema:
      type: object
      properties:
        creator:
          $ref: '#/components/schemas/RelatedUser'
        team_id:
          type: integer
        name:
          type: string
        modifier:
          $ref: '#/components/schemas/RelatedUser'
        team:
          $ref: '#/components/schemas/Team'
        id:
          type: string
          readOnly: true
        label:
          type: string
        modified_at: {}
        site_external_id:
          type: string
          writeOnly: true
        site_id:
          type: integer
          readOnly: true
      required:
      - name
    ReportSchema:
      type: object
      properties:
        expires_at: {}
        name:
          type: string
        id:
          type: integer
        survey_id:
          type: integer
        status: {}
        token:
          type: string
        type: {}
        file_path:
          type: string
        site_id:
          type: integer
    SurveyAttribute:
      type: object
      properties:
        value:
          type: string
        attribute_id:
          type: integer
        id:
          type: integer
          readOnly: true
        name:
          type: string
      required:
      - attribute_id
      - name
      - value
    SurveyElementAccessory:
      type: object
      properties:
        description:
          type: string
        row_index:
          type: integer
        manufacturer:
          type: string
        price: {}
        labor_hours:
          type: number
        model:
          type: string
        id:
          type: string
          readOnly: true
        quantity: {}
      required:
      - manufacturer
      - model
      - row_index
    CablePath:
      type: object
      properties:
        a_side: {}
        z_side: {}
        id:
          type: string
        external_id:
          type: string
        type:
          type: string
      required:
      - a_side
      - external_id
      - id
      - z_side
    PathConnection:
      type: object
      properties:
        end: {}
        start: {}
    SurveyElementActivityLog:
      type: object
      properties:
        creator:
          type: integer
          readOnly: true
        created_at:
          readOnly: true
        date: {}
        modifier:
          type: integer
          readOnly: true
        id:
          type: string
        modified_at:
          readOnly: true
        entry:
          type: string
    WebLink:
      type: object
      properties:
        link_type:
          default: 2
          writeOnly: true
        url:
          type: string
        name:
          type: string
      required:
      - name
      - url
    PDFLink:
      type: object
      properties:
        link_type:
          default: 1
        url:
          type: string
        name:
          type: string
      required:
      - name
      - url
    SurveyElement:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        element_id:
          type: integer
        element_index:
          type: integer
        element_profile_id:
          type: integer
        systemtype_id:
          type: integer
        variant: {}
        z_order:
          type: integer
        position: {}
        photo_urls:
          type: array
          readOnly: true
          items:
            type: string
        sync_status:
          readOnly: true
          enum:
          - synced
          - pending
          - errored
        attributes:
          type: array
          items:
            $ref: '#/components/schemas/SurveyAttribute'
        accessories:
          type: array
          items:
            $ref: '#/components/schemas/SurveyElementAccessory'
        children:
          type: array
          items:
            $ref: '#/components/schemas/SurveyElement'
        cables:
          type: array
          items:
            $ref: '#/components/schemas/CablePath'
        connections:
          $ref: '#/components/schemas/PathConnection'
        activity_log:
          type: array
          items:
            $ref: '#/components/schemas/SurveyElementActivityLog'
        pdf_urls:
          readOnly: true
        web_links:
          type: array
          items:
            $ref: '#/components/schemas/WebLink'
        photos:
          type: array
          writeOnly: true
          items:
            type: string
        pdfs:
          type: array
          writeOnly: true
          items:
            $ref: '#/components/schemas/PDFLink'
      required:
      - element_id
      - id
      - name
      - position
      - systemtype_id
    SurveyAnnotation:
      type: object
      properties:
        stroke_width:
          type: string
        size:
          type: string
        font_size:
          type: string
        category: {}
        opacity:
          type: number
          minimum: 0
          maximum: 1
        text:
          type: string
        start_point: {}
        fill: {}
        location: {}
        end_point: {}
        stroke_color:
          type: string
        id:
          type: string
          readOnly: true
        coordinates: {}
      required:
      - category
      - location
      - stroke_color
      - stroke_width
    BoundaryPoint:
      type: object
      properties:
        x:
          type: number
          minimum: 0.0
        y:
          type: number
          minimum: 0.0
      required:
      - x
      - y
    SurveyBoundary:
      type: object
      properties:
        created_at:
          readOnly: true
        modified_at:
          readOnly: true
        id:
          type: string
          format: uuid
        points:
          type: array
          items:
            $ref: '#/components/schemas/BoundaryPoint'
      required:
      - id
      - points
    SurveySchema:
      type: object
      properties:
        id:
          type: string
          readOnly: true
        title:
          type: string
        label:
          type: string
        reference_id:
          type: string
        description:
          type: string
        summary:
          type: string
        location:
          type: string
        status:
          writeOnly: true
        site:
          readOnly: true
        icon_size:
          type: integer
        is_archived:
          type: boolean
          readOnly: true
        unit: {}
        version:
          type: integer
          readOnly: true
        margin_range:
          type: number
        type:
          readOnly: true
        floorplan_scale:
          type: number
        preview_image:
          type: string
          readOnly: true
        floorplan_url:
          type: string
          readOnly: true
        sync_status:
          readOnly: true
          enum:
          - synced
          - pending
          - errored
        creator:
          type: integer
          readOnly: true
        editor:
          readOnly: true
          allOf:
          - $ref: '#/components/schemas/RelatedUser'
        modifier:
          type: integer
          readOnly: true
        created_at:
          readOnly: true
        modified_at:
          readOnly: true
        elements:
          type: array
          items:
            $ref: '#/components/schemas/SurveyElement'
        annotations:
          type: array
          items:
            $ref: '#/components/schemas/SurveyAnnotation'
        boundaries:
          type: array
          items:
            $ref: '#/components/schemas/SurveyBoundary'
        users:
          readOnly: true
      required:
      - icon_size
      - margin_range
      - title
      - unit
    SystemTypeSchema:
      type: object
      properties:
        elements:
          type: array
          items:
            $ref: '#/components/schemas/ElementSchema'
        element_color:
          type: string
        id:
          type: integer
          readOnly: true
        abbreviation:
          type: string
        name:
          type: string
    UserPreferencesSchema:
      type: object
      properties:
        comment_notification_enabled:
          type: boolean
        timezone:
          type: string
        comment_notification_time:
          type: string
        auto_sync:
          type: boolean
        comment_notification_daily_batch:
          type: boolean
        comment_notification_editor_only:
          type: boolean
        comment_notification_mentions_only:
          type: boolean
  responses:
    BadRequestError:
      description: Invalid request sent to endpoint
    UnauthorizedError:
      description: Access token is missing or invalid
    ForbiddenError:
      description: Invalid permissions to perform operation
    NotFoundError:
      description: The specified resource was not found
    UnprocessableEntityError:
      description: Unable to process the contained instructions
  parameters:
    q:
      name: q
      description: Apply search to query
      schema:
        type: string
      in: query
    page:
      name: page
      description: Page to retrieve from the entire result set
      schema:
        type: integer
        minimum: 1
        default: 1
      in: query
    page_size:
      name: page_size
      description: Max amount of objects to return per page in the response
      schema:
        type: integer
        maximum: 100
        default: 100
      in: query
    page[number]:
      name: page[number]
      description: Page to retrieve from the entire result set
      schema:
        type: integer
        minimum: 1
        default: 1
      in: query
    page[size]:
      name: page[size]
      description: Max amount of objects to return per page in the response
      schema:
        type: integer
        maximum: 100
        default: 100
      in: query
  securitySchemes:
    jwt:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: '


        Once the account administrator creates your API `access_token`         ([link](https://app.systemsurveyor.com/v2/account/#api_management)),
        you must include that with each request.         These tokens are valid for
        1 year, and can be revoked at any time by the account administrator.         You
        will find examples for each request with each endpoint below.'

